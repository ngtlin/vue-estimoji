System.register(["./p-08964242.system.js","./p-437fcc1c.system.js","./p-9bcef615.system.js","./p-0fbe9704.system.js","./p-463bf629.system.js","./p-dea0be5d.system.js"],(function(t){"use strict";var e,i,o,n,s,r,l,a;return{setters:[function(t){e=t.r;i=t.h;o=t.g},function(t){n=t.a},function(t){s=t.a},function(){},function(t){r=t.t},function(t){l=t.c;a=t.m}],execute:function(){var c=function(t,e){if(t===void 0){t={}}switch(e.type){case"SET_DISPLAY":return Object.assign(Object.assign({},t),{display:e.display});case"SET_DIRECTION":return Object.assign(Object.assign({},t),{directionState:e.directionState});case"SET_TOGGLE":return Object.assign(Object.assign({},t),{toggle:e.toggle});case"SET_CONTENT_EL":return Object.assign(Object.assign({},t),{contentEl:e.contentEl});case"SET_TOGGLE_EL":return Object.assign(Object.assign({},t),{toggleEl:e.toggleEl});case"TOGGLE_ARROW_EL":return Object.assign(Object.assign({},t),{arrowEls:r(t.arrowEls,e.arrowEl)});default:return t}};var h=":host,*,*:before,*:after{-webkit-box-sizing:border-box;box-sizing:border-box}:host{position:relative;display:inline-block}";var p=t("sdx_menu_flyout",function(){function t(t){e(this,t);this.invokeDisplayChangeCallback=function(){return null};this.animationDuration=300;this.isClicking=false;this.oppositeDirection={x:{"top-right":"top-left","top-left":"top-right","bottom-right":"bottom-left","bottom-left":"bottom-right"},y:{"top-right":"bottom-right","top-left":"bottom-left","bottom-right":"top-right","bottom-left":"top-left"}};this.arrowUnrotatedWidth=14;this.offset=16;this.display="closed";this.direction="bottom-right";this.closeOnClick=false}t.prototype.directionChanged=function(){var t=this;if(this.display!=="closed"){this.close().then((function(){t.dispatchDirection(t.direction);t.open()}))}else{this.dispatchDirection(this.direction)}};t.prototype.toggleElChanged=function(){this.toggleElChild=this.toggleEl?this.toggleEl.children[0]:undefined};t.prototype.displayChangeCallbackChanged=function(){this.setInvokeDisplayChangeCallback()};t.prototype.componentWillLoad=function(){this.setInvokeDisplayChangeCallback();this.store=l(this,c,this.getInitialState());this.unsubscribe=a(this,this.store,["display","directionState","contentEl","toggleEl","arrowEls"]);this.dispatchDirection(this.direction);this.store.dispatch({type:"SET_TOGGLE",toggle:this.toggle.bind(this)})};t.prototype.displayChanged=function(){this.invokeDisplayChangeCallback(this.display)};t.prototype.componentDidLoad=function(){this.close()};t.prototype.componentDidUnload=function(){this.unsubscribe()};t.prototype.getInitialState=function(){return{display:"closed",directionState:"bottom-right",toggle:function(){return Promise.resolve()},contentEl:undefined,toggleEl:undefined,arrowEls:[]}};t.prototype.onClick=function(){this.isClicking=true};t.prototype.onWindowClick=function(){if(!this.isClicking||this.display==="open"&&this.closeOnClick){this.close()}this.isClicking=false};t.prototype.toggle=function(){if(this.display==="open"){return this.close()}else if(this.display==="closed"){return this.open()}return Promise.resolve()};t.prototype.open=function(){var t=this;return new Promise((function(e){if(!t.contentEl){return}if(!(t.display==="closed"||t.display==="closing")){e();return}var i=t.contentEl;var o=t.directionState;t.store.dispatch({type:"SET_DISPLAY",display:"opening"});i.style.display="block";t.positionContentEl(o);t.originalWidth=i.clientWidth;var n=t.hasEnoughSpace(o,"x");var r=t.hasEnoughSpace(o,"y");if(!n){var l=t.oppositeDirection.x[o];t.positionContentEl(l,"x");if(t.hasEnoughSpace(l,"x")){o=l;t.dispatchDirection(o)}else{t.positionContentEl(l,"x",true)}}if(!r){var l=t.oppositeDirection.y[o];t.positionContentEl(l,"y");if(t.hasEnoughSpace(l,"y")){t.dispatchDirection(l)}else{t.positionContentEl(o,"y")}}var a=t.directionState==="top-left"||t.directionState==="top-right"?-t.offset:t.offset;s.remove(i);s({targets:i,duration:t.animationDuration,translateY:a,opacity:1,easing:"cubicBezier(0.550, 0.085, 0.320, 1)",complete:function(){t.store.dispatch({type:"SET_DISPLAY",display:"open"});e()}})}))};t.prototype.close=function(){var t=this;return new Promise((function(e){var i=t.contentEl;if(!i){return}if(t.display==="closed"){i.style.display="none";i.style.opacity="0";e()}else{t.store.dispatch({type:"SET_DISPLAY",display:"closing"});s.remove(i);s({targets:i,duration:t.animationDuration,translateY:0,opacity:0,easing:"cubicBezier(0.550, 0.085, 0.320, 1)",complete:function(){i.style.display="none";t.dispatchDirection(t.direction);i.style.width=t.originalWidth+"px";t.store.dispatch({type:"SET_DISPLAY",display:"closed"});e()}})}}))};t.prototype.setInvokeDisplayChangeCallback=function(){this.invokeDisplayChangeCallback=n(this.displayChangeCallback)};t.prototype.dispatchDirection=function(t){this.store.dispatch({type:"SET_DIRECTION",directionState:t})};t.prototype.hasEnoughSpace=function(t,e){if(!this.contentEl){return false}var i=this.el.getBoundingClientRect();var o=this.contentEl.getBoundingClientRect();switch(e){case"x":{var n=t==="top-left"||t==="bottom-left";var s;var r=o.width;if(n){s=i.left}else{s=innerWidth-i.left}return r<s}case"y":var l=t==="bottom-right"||t==="bottom-left";var a=void 0;var c=void 0;if(l){a=innerHeight-i.bottom;c=a-(innerHeight-o.bottom)}else{a=i.top;c=innerHeight-(innerHeight-i.top)-o.top}c=c+this.offset;return c<a;default:return true}};t.prototype.positionContentEl=function(t,e,i){var o=this;if(!(this.contentEl&&this.toggleEl)){return}var n=this.contentEl;var s=this.getContentElPosition(t);n.style.opacity="0";n.style.transform="translateY(0)";if(!e||e==="x"){n.style.left=s[0]+"px"}if(!e||e==="y"){n.style.top=s[1]+"px"}if(i){n.style.width=innerWidth-this.offset*2+"px";var r=this.toggleEl.getBoundingClientRect();n.style.left="-"+(r.left-this.offset)+"px";var l=this.getContentElPosition(t);n.style.top=l[1]+"px"}var a=this.contentEl.getBoundingClientRect();var c=this.toggleEl.getBoundingClientRect();this.arrowEls.forEach((function(t){t.style.left=c.left-a.left+c.width/2-o.arrowUnrotatedWidth/2+"px"}))};t.prototype.getContentElPosition=function(t){if(!(this.contentEl&&this.toggleElChild)){return[0,0]}var e=this.contentEl.getBoundingClientRect();var i=this.toggleElChild.getBoundingClientRect();var o=-e.height;var n=i.height;var s=i.width/2-(this.offset+this.arrowUnrotatedWidth);var r=-(e.width-i.width)-s;switch(t){case"bottom-right":return[s,n];case"bottom-left":return[r,n];case"top-right":return[s,o];case"top-left":return[r,o];default:return[0,0]}};t.prototype.render=function(){return i("slot",null)};Object.defineProperty(t.prototype,"el",{get:function(){return o(this)},enumerable:true,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{direction:["directionChanged"],toggleEl:["toggleElChanged"],displayChangeCallback:["displayChangeCallbackChanged"],display:["displayChanged"]}},enumerable:true,configurable:true});return t}());p.style=h}}}));