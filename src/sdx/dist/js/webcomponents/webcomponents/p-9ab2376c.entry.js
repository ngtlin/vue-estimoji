import{r as t,h as e,H as s,g as i}from"./p-95c9f71a.js";import{s as n,b as a,g as l,a as r}from"./p-30dd5ee1.js";import{c as o,m as h}from"./p-486db20f.js";const E=(t={},e)=>{switch(e.type){case"SET_TYPE":return Object.assign(Object.assign({},t),{typeState:e.typeState});case"SET_THEME":return Object.assign(Object.assign({},t),{themeState:e.themeState});case"SET_NAME":return Object.assign(Object.assign({},t),{nameState:e.nameState});case"SET_GROUP_LABEL":return Object.assign(Object.assign({},t),{groupLabel:e.groupLabel});case"SET_INLINE":return Object.assign(Object.assign({},t),{inline:e.inline});case"SET_SELECTED_INPUT_ITEM_ELS":return Object.assign(Object.assign({},t),{selectedInputItemEls:e.selectedInputItemEls});case"SELECT_INPUT_ITEM_EL":let s=t.selectedInputItemEls;return"radio"===t.typeState?t.selectedInputItemEls[0]===e.inputItemEl||(s=[e.inputItemEl]):s=t.selectedInputItemEls.indexOf(e.inputItemEl)>-1?s.filter(t=>t!==e.inputItemEl):s.concat(e.inputItemEl),Object.assign(Object.assign({},t),{selectedInputItemEls:s,selectNextInputItemElFrom:void 0,selectPreviousInputItemElFrom:void 0});case"SELECT_NEXT_INPUT_ITEM_EL":return Object.assign(Object.assign({},t),{selectNextInputItemElFrom:e.currentSelectedInputItemEl,selectPreviousInputItemElFrom:void 0});case"SELECT_PREVIOUS_INPUT_ITEM_EL":return Object.assign(Object.assign({},t),{selectNextInputItemElFrom:void 0,selectPreviousInputItemElFrom:e.currentSelectedInputItemEl});case"REGISTER_INPUT_ITEM_EL":const i=t.inputItemElsSorted;return i.push(e.inputItemEl),Object.assign(Object.assign({},t),{inputItemElsSorted:i.sort(n)});case"UNREGISTER_INPUT_ITEM_EL":const a=t.inputItemElsSorted.indexOf(e.inputItemEl);return a>=0&&t.inputItemElsSorted.splice(a,1),t;default:return t}},p=class{constructor(e){t(this,e),this.invokeChangeCallback=()=>null,this.componentChildrenWillLoadComplete=!1,this.componentDidLoadComplete=!1,this.valueChangedInProgress=!1,this.selectedInputItemElsChangedInProgress=!1,this.type="radio",this.theme="none",this.name="",this.inline=!1,this.label="",this.value=[],this.required=!1}typeChanged(){this.store.dispatch({type:"SET_TYPE",typeState:this.type})}changeCallbackChanged(){this.setInvokeChangeCallback()}nameChanged(){this.store.dispatch({type:"SET_NAME",nameState:this.name})}groupLabelChanged(){this.store.dispatch({type:"SET_GROUP_LABEL",groupLabel:this.label})}inlineChanged(){this.store.dispatch({type:"SET_INLINE",inline:this.inline})}valueChanged(){this.valueChangedInProgress=!0;const{validValues:t,validatedValues:e,inputItemEls:s}=this.getByValues(this.value);t?(this.selectedInputItemElsChangedInProgress||this.store.dispatch({type:"SET_SELECTED_INPUT_ITEM_ELS",selectedInputItemEls:s}),this.componentDidLoadComplete&&this.invokeChangeCallback(this.value),this.valueChangedInProgress=!1):this.value=e}selectedInputItemElsChanged(){if(this.componentChildrenWillLoadComplete){if(this.selectedInputItemElsChangedInProgress=!0,!this.valueChangedInProgress){const{validatedValues:t}=this.getByValues(this.selectedInputItemEls.map(t=>t.value));this.value=t}this.selectedInputItemElsChangedInProgress=!1}}selectNextInputItemElFromChanged(){if(this.selectNextInputItemElFrom){let t=a(this.inputItemElsSorted,this.selectNextInputItemElFrom);for(;t!==this.selectNextInputItemElFrom&&t.disabled;)t=a(this.inputItemElsSorted,t);this.store.dispatch({type:"SELECT_INPUT_ITEM_EL",inputItemEl:t})}}selectPreviousInputItemElFromChanged(){if(this.selectPreviousInputItemElFrom){let t=l(this.inputItemElsSorted,this.selectPreviousInputItemElFrom);for(;t!==this.selectPreviousInputItemElFrom&&t.disabled;)t=l(this.inputItemElsSorted,t);this.store.dispatch({type:"SELECT_INPUT_ITEM_EL",inputItemEl:t})}}async getSelection(){return this.value}componentWillLoad(){this.setInvokeChangeCallback(),this.store=o(this,E,this.getInitialState()),this.unsubscribe=h(this,this.store,["typeState","themeState","selectedInputItemEls","selectNextInputItemElFrom","selectPreviousInputItemElFrom","inputItemElsSorted"]),this.store.dispatch({type:"SET_TYPE",typeState:this.type}),this.store.dispatch({type:"SET_THEME",themeState:this.theme})}componentDidLoad(){if(this.componentChildrenWillLoadComplete=!0,this.name&&this.store.dispatch({type:"SET_NAME",nameState:this.name}),this.label&&this.store.dispatch({type:"SET_GROUP_LABEL",groupLabel:this.label}),this.store.dispatch({type:"SET_INLINE",inline:this.inline}),this.store.dispatch({type:"SET_GROUP_LABEL",groupLabel:this.label}),!this.selectedInputItemEls.length){const{validValues:t,inputItemEls:e}=this.getByValues(this.value);t&&this.store.dispatch({type:"SET_SELECTED_INPUT_ITEM_ELS",selectedInputItemEls:e})}this.componentDidLoadComplete=!0}componentDidUnload(){this.unsubscribe()}getInitialState(){return{typeState:"radio",themeState:"none",nameState:"",groupLabel:"",inline:!1,selectedInputItemEls:[],selectNextInputItemElFrom:void 0,selectPreviousInputItemElFrom:void 0,inputItemElsSorted:[]}}setInvokeChangeCallback(){this.invokeChangeCallback=r(this.changeCallback)}getByValues(t){if(Array.isArray(t)){if(!t.length)return{validValues:!0,validatedValues:t,inputItemEls:[]};const e=t.filter(t=>void 0!==t);if(!e.length)return{validValues:!1,validatedValues:[],inputItemEls:[]};const s=[],i=[];let n=!0;for(let t=0;t<e.length;t++){const a=e[t],l=this.inputItemElsSorted.find(t=>t.value===a);l&&("checkbox"===this.type||"radio"===this.type&&0===t?(i.push(l),s.push(l.value)):n=!1)}return 0===s.length?{validValues:!1,validatedValues:s,inputItemEls:i}:{validValues:n,validatedValues:s,inputItemEls:i}}return{validValues:!1,validatedValues:[],inputItemEls:[]}}getComponentClassNames(){return{component:!0}}getSlotClassNames(){return{slot:!0,inline:this.inline,"input-container":"container"===this.themeState}}render(){return e(s,{role:"radio"===this.typeState?"radiogroup":null},e("div",{class:this.getComponentClassNames()},this.label&&e("label",null,this.label,this.required?e("span",{"aria-hidden":"true"}," *"):null),e("div",{class:this.getSlotClassNames()},e("slot",null)),this.validationMessage&&e("sdx-validation-message",{validationMessage:this.validationMessage})))}get el(){return i(this)}static get watchers(){return{type:["typeChanged"],changeCallback:["changeCallbackChanged"],name:["nameChanged"],label:["groupLabelChanged"],inline:["inlineChanged"],value:["valueChanged"],selectedInputItemEls:["selectedInputItemElsChanged"],selectNextInputItemElFrom:["selectNextInputItemElFromChanged"],selectPreviousInputItemElFrom:["selectPreviousInputItemElFromChanged"]}}};p.style=":host,*,*:before,*:after{-webkit-box-sizing:border-box;box-sizing:border-box}label{display:block;margin-bottom:4px;cursor:text;color:#666;font-size:16px}.component .inline{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-direction:row;flex-direction:row;-ms-flex-line-pack:stretch;align-content:stretch;margin-right:-27px;margin-bottom:-27px}.component .inline ::slotted(sdx-input-item){margin-right:27px;margin-bottom:27px}.component .inline.input-container{margin-right:-16px;margin-bottom:-16px}.component .inline.input-container ::slotted(sdx-input-item){width:auto;margin-right:16px;margin-bottom:16px}.component .inline.input-container ::slotted(sdx-input-item:not(:last-of-type)){margin-right:16px}";export{p as sdx_input_group}